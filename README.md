# Animal Quiz
## Elevator Pitch
This project will be a short quiz that showcases 10 animals that most people are not familiar with and ask them to guess the animal's real name. After the user pushes the button a box will appear that will tell them the correct anwser, funfacts, videos or voice recordings of the animal, and links to more info. The user will also see how many other users got that answer right and after they finish the quiz they will see what percentile they are compared to everyone else and have the oppertunuity to do it again or log out.
## HTML
I have 4 html pages. the main one "index.html" has the title in the head and and in the body we have all ten photos and 4 buttons related to those buttons and a box of info below with videos and links. In the footer we have a seperate info box that will tell you your percentile as well as the two buttons that will let you log out or retry.    
## CSS
I have 35 different css classes in styles.css the body makes sure all the text is in Times New Roman in green and the backgroud is black. I found specific buttons from other sites particularlly button-52 and button-62 for the questions and the login respectivly. The button-52:after changes colors after its pushed to green or red depending on whether its correct or not. The info-box is invisible until a question is pushed than it appears and is dark grey with a border that is the same color as the text. The title box is also the same color grey
## REACT
My frontend jsx tracks how many questions were answered incorrectly, stores a unique quizKey to trigger re-renders or resets, and stores a user's performance percentile returned from the server. const handleButtonClick prevents multiple answers per question and tracks button clicks using localStorage. const resetQuiz sends the number of correct answers and total attempts to an API (/api/nope) and if the server responds with a percentile it updates the UI. 
## Service
My backend server code handles user registration, login, and score submission with functionalities like hashing passwords and calculating percentiles based on user performance. const port sets the port for the server. If a port is passed as a command-line argument it uses that otherwise it defaults to 4000. I have two empty arrays to represent the user and password. app.post("/setup") checks if a user already exists. If it does it returns an error. It also validates password to ensure it meets certain criteria and hashes the password with bcrypt then stores the user in the users array. app.post("/login") checks if the username exists and compares the provided password with the hashed password stored in the users array. app.post("/api/nope") makes sure that at least one question was answered then stores the scores and calculates the users percentile.
## DB
When adding MongoDB to my service backend I added MongoDB client which is set up using the credentials and hostname from dbConfig.json. The database connection is established through the MongoClient using the provided url. I also added client.connect() to connect to the MongoDB cluster and select the startup database and if the connection fails an error message is logged. In app.post("/api/setup") instead of storing users in an array users are now stored in the users collection in MongoDB. I also added the findOne() query which is used to check if a user already exists in the database by their username. After password validation and hashing, a new user is inserted into the users collection using insertOne(). Similar changes are done to the other functions
## Websocket
My peerProxy code creates a WebSocket server that attaches to httpServer which in turn enables the WebSocket server to work alongside your regular HTTP routes. Scores is made into a simple array which is used to store the quiz scores that will be shared in real-time between connected clients. socketServer.on('connection') allows a connection event to trigger when a client connects. It then sends the current score to the other client. socket.on("message") allows a server to listen when another server sends a message. If the message type is "sharedScore" then the server broadcasts the new score to all connected clients by sending a WebSocket message to each client that is still open. socket.on('pong') allows the server to listen for the pong message, which is sent by the client in response to a ping to keep the connection alive. For the setInterval the server checks the health of each connected WebSocket client every 10 seconds and if a client does not respond to the ping message the server will terminate that connection. This code is utilized in the frontend through the const shareScore function.

